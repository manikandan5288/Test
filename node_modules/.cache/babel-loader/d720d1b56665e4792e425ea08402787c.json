{"ast":null,"code":"import _classCallCheck from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Personal\\\\React\\\\Test\\\\src\\\\atoms\\\\Converter\\\\Converter.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport \"../Converter/Converter.css\";\nvar SECRECT_KEY = '76f5ea65dcc33674258094294818f787';\n\nvar Converter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Converter, _React$Component);\n\n  function Converter() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Converter);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Converter)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      baseCurrency: 'SEK',\n      toCurrency: \"INR\",\n      amount: 1,\n      baseCurrencyValue: 0,\n      result: 0,\n      currencies: [],\n      currencyRates: []\n    };\n\n    _this.selectHandler = function (event) {\n      _this.setState({\n        toCurrency: event.target.value\n      });\n\n      console.log('i am select handler', _this.state.amount, event.target.value);\n\n      _this.convertHandler(_this.state.amount, event.target.value);\n    };\n\n    _this.convertHandler = function (amount, toCurrencyCode) {\n      if (_this.state.baseCurrency !== toCurrencyCode) {\n        console.log('this.state.toCurrency', toCurrencyCode);\n        var toCurrencyVal;\n\n        for (var key in _this.state.currencyRates) {\n          toCurrencyVal = _this.state.currencyRates[toCurrencyCode];\n        }\n\n        var convertedValue = amount / _this.state.baseCurrencyValue * toCurrencyVal;\n        console.log('convertedValue', convertedValue);\n\n        _this.setState({\n          result: convertedValue.toFixed(2)\n        });\n      } else {\n        _this.setState({\n          result: \"You can't convert the same currency!\"\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Converter, [{\n    key: \"componentDidMount\",\n    // Initializes the currencies with values from the api\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var ur;\n      axios.get(\"http://data.fixer.io/api/latest?access_key=\".concat(SECRECT_KEY)).then(function (response) {\n        var currencyAr = [];\n        var baseCurrencyVal;\n\n        for (var key in response.data.rates) {\n          baseCurrencyVal = response.data.rates[_this2.state.baseCurrency];\n          currencyAr.push(key);\n        }\n\n        _this2.setState({\n          baseCurrencyValue: baseCurrencyVal,\n          currencies: currencyAr.sort(),\n          currencyRates: response.data.rates\n        });\n\n        _this2.convertHandler(_this2.state.amount, _this2.state.toCurrency);\n      }).catch(function (err) {\n        console.log(\"Opps\", err.message);\n      });\n    }\n  }, {\n    key: \"onChangeHandle\",\n    value: function onChangeHandle(e) {\n      console.log('onchange', this.state.toCurrency);\n      this.setState({\n        amount: e.target.value\n      });\n      this.convertHandler(e.target.value, this.state.toCurrency);\n    } // Updates the states based on the dropdown that was changed\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"converter-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Currency Converter Section\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Enter SEK Amount\"), React.createElement(\"input\", {\n        name: \"amount\",\n        type: \"number\",\n        placeholder: \"Enter SEK Amount\",\n        value: this.state.amount,\n        onChange: function onChange(event) {\n          return _this3.onChangeHandle(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \" to \"), React.createElement(\"select\", {\n        name: \"to\",\n        onChange: function onChange(event) {\n          return _this3.selectHandler(event);\n        },\n        value: this.state.toCurrency,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.state.currencies.map(function (currency) {\n        return React.createElement(\"option\", {\n          key: currency,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, currency);\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \" = \"), React.createElement(\"input\", {\n        name: \"converted-amount\",\n        className: \"readOnly\",\n        type: \"text\",\n        value: \"\".concat(this.state.result, \" \").concat(this.state.toCurrency),\n        readOnly: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Converter;\n}(React.Component);\n\nexport default Converter;","map":{"version":3,"sources":["D:\\Personal\\React\\Test\\src\\atoms\\Converter\\Converter.js"],"names":["React","axios","SECRECT_KEY","Converter","state","baseCurrency","toCurrency","amount","baseCurrencyValue","result","currencies","currencyRates","selectHandler","event","setState","target","value","console","log","convertHandler","toCurrencyCode","toCurrencyVal","key","convertedValue","toFixed","ur","get","then","response","currencyAr","baseCurrencyVal","data","rates","push","sort","catch","err","message","e","onChangeHandle","map","currency","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\nimport \"../Converter/Converter.css\"\r\n\r\nconst SECRECT_KEY = '76f5ea65dcc33674258094294818f787';\r\n\r\nclass Converter extends React.Component {\r\n  state = {\r\n    baseCurrency: 'SEK',\r\n    toCurrency: \"INR\",\r\n    amount: 1,\r\n    baseCurrencyValue: 0,\r\n    result: 0,\r\n    currencies: [],\r\n    currencyRates: []\r\n  };\r\n\r\n\r\n  // Initializes the currencies with values from the api\r\n  componentDidMount() {\r\n    let ur\r\n    axios.get(`http://data.fixer.io/api/latest?access_key=${SECRECT_KEY}`).then(response => {\r\n      const currencyAr = [];\r\n      let baseCurrencyVal;\r\n      for (let key in response.data.rates) {\r\n        baseCurrencyVal = response.data.rates[this.state.baseCurrency];\r\n        currencyAr.push(key)\r\n      }\r\n      this.setState({\r\n        baseCurrencyValue: baseCurrencyVal,\r\n        currencies: currencyAr.sort(),\r\n        currencyRates: response.data.rates\r\n      });\r\n      this.convertHandler(this.state.amount, this.state.toCurrency);\r\n    })\r\n      .catch(err => {\r\n        console.log(\"Opps\", err.message);\r\n      });\r\n  }\r\n\r\n  onChangeHandle(e) {\r\n    console.log('onchange', this.state.toCurrency)\r\n    this.setState({ amount: e.target.value })\r\n    this.convertHandler(e.target.value, this.state.toCurrency);\r\n  }\r\n\r\n  // Updates the states based on the dropdown that was changed\r\n  selectHandler = (event) => {\r\n\r\n    this.setState({ toCurrency: event.target.value })\r\n    console.log('i am select handler', this.state.amount, event.target.value)\r\n    this.convertHandler(this.state.amount, event.target.value);\r\n  }\r\n\r\n  // Event handler for the conversion\r\n  convertHandler = (amount, toCurrencyCode) => {\r\n    if (this.state.baseCurrency !== toCurrencyCode) {\r\n      console.log('this.state.toCurrency', toCurrencyCode)\r\n      let toCurrencyVal;\r\n      for (let key in this.state.currencyRates) {\r\n        toCurrencyVal = this.state.currencyRates[toCurrencyCode];\r\n      }\r\n      let convertedValue = (amount / this.state.baseCurrencyValue) * toCurrencyVal;\r\n      console.log('convertedValue', convertedValue)\r\n      this.setState({ result: convertedValue.toFixed(2) })\r\n\r\n    } else {\r\n      this.setState({ result: \"You can't convert the same currency!\" })\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div className=\"converter-container\">\r\n      <h2>Currency Converter Section</h2>\r\n      <label>Enter SEK Amount</label>\r\n      <input\r\n        name=\"amount\"\r\n        type=\"number\"\r\n        placeholder=\"Enter SEK Amount\"\r\n        value={this.state.amount}\r\n        onChange={event => this.onChangeHandle(event)}\r\n      />\r\n      <label> to </label>\r\n      <select\r\n        name=\"to\"\r\n        onChange={(event) => this.selectHandler(event)}\r\n        value={this.state.toCurrency}\r\n      >\r\n        {this.state.currencies.map(currency => (\r\n          <option key={currency}>{currency}</option>\r\n        ))}\r\n      </select>\r\n      <label> = </label>\r\n      <input\r\n        name=\"converted-amount\"\r\n        className=\"readOnly\"\r\n        type=\"text\"\r\n        value={`${this.state.result} ${this.state.toCurrency}`}\r\n        readOnly\r\n      />\r\n    </div >;\r\n  }\r\n}\r\nexport default Converter;\r\n"]},"metadata":{},"sourceType":"module"}