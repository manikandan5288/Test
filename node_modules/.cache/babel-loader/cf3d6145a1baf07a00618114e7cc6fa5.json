{"ast":null,"code":"import _classCallCheck from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Personal\\\\React\\\\Test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Personal\\\\React\\\\Test\\\\src\\\\atoms\\\\SearchCountry\\\\SearchCountry.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport \"../SearchCountry/SearchCountry.css\";\nvar VALID_COUNTRY_NAME = 'Enter Valid Country name';\nvar COUNTRY_NOT_AVAILABLE = 'Entered Country name not availabe';\nvar COUNTRY_REGEX = new RegExp(\"^[a-zA-Z ]*$\");\n\nvar SearchCountry =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SearchCountry, _React$Component);\n\n  function SearchCountry() {\n    var _this;\n\n    _classCallCheck(this, SearchCountry);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchCountry).call(this));\n    _this.state = {\n      searchText: \"\",\n      country: [],\n      searchError: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(SearchCountry, [{\n    key: \"onChangeHandle\",\n    value: function onChangeHandle(event) {\n      var _this2 = this;\n\n      this.setState({\n        searchText: event.target.value\n      }, function () {\n        _this2.validateSearchText();\n      });\n    }\n  }, {\n    key: \"validateSearchText\",\n    value: function validateSearchText() {\n      var searchText = this.state.searchText;\n      console.log(searchText.length, searchText);\n      this.setState({\n        country: [],\n        searchError: searchText.length < 2 || !COUNTRY_REGEX.test(searchText) ? VALID_COUNTRY_NAME : null\n      });\n    }\n  }, {\n    key: \"onSearch\",\n    value: function onSearch() {\n      var _this3 = this;\n\n      var searchText = this.state.searchText;\n      var url;\n\n      if (searchText && COUNTRY_REGEX.test(searchText)) {\n        url = \"https://restcountries.eu/rest/v2/name/\".concat(searchText, \"?fullText=true\");\n      } else {\n        this.setState({\n          searchError: VALID_COUNTRY_NAME\n        });\n        return;\n      }\n\n      axios.get(url).then(function (response) {\n        return response.data;\n      }).then(function (data) {\n        _this3.setState({\n          country: data\n        });\n\n        _this3.setState({\n          searchText: ''\n        }); // reseting the searchbox\n\n      }, function (error) {\n        _this3.setState({\n          searchError: COUNTRY_NOT_AVAILABLE\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"search-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Search Country\"), React.createElement(\"input\", {\n        id: \"countryName\",\n        placeholder: \"Enter Country Name\",\n        type: \"text\",\n        className: \"\".concat(this.state.searchError ? 'errorClass' : ''),\n        onChange: function onChange(event) {\n          return _this4.onChangeHandle(event);\n        },\n        value: this.state.searchText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn-cls\",\n        onClick: function onClick(event) {\n          return _this4.onSearch();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Search\"), React.createElement(\"div\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.state.searchError), this.state.searchError, !this.state.searchError && React.createElement(\"div\", {\n        className: \"content-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.state.country.map(function (country, i) {\n        return React.createElement(\"div\", {\n          className: \"country-info\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"Country Details\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"Country Name:\"), country.name), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Capital:\"), country.capital), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Population:\"), country.population), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"Currencies:\"), country.currencies[i].code));\n      })));\n    }\n  }]);\n\n  return SearchCountry;\n}(React.Component);\n\nexport default SearchCountry;","map":{"version":3,"sources":["D:\\Personal\\React\\Test\\src\\atoms\\SearchCountry\\SearchCountry.js"],"names":["React","axios","VALID_COUNTRY_NAME","COUNTRY_NOT_AVAILABLE","COUNTRY_REGEX","RegExp","SearchCountry","state","searchText","country","searchError","event","setState","target","value","validateSearchText","console","log","length","test","url","get","then","response","data","error","onChangeHandle","onSearch","map","i","name","capital","population","currencies","code","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\nimport \"../SearchCountry/SearchCountry.css\"\r\n\r\nconst VALID_COUNTRY_NAME = 'Enter Valid Country name';\r\nconst COUNTRY_NOT_AVAILABLE = 'Entered Country name not availabe';\r\nconst COUNTRY_REGEX = new RegExp(\"^[a-zA-Z ]*$\");\r\n\r\nclass SearchCountry extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchText: \"\",\r\n            country: [],\r\n            searchError: \"\"\r\n        };\r\n    }\r\n    onChangeHandle(event) {\r\n        this.setState({ searchText: event.target.value }, () => {\r\n            this.validateSearchText();\r\n        });\r\n    }\r\n\r\n    validateSearchText() {\r\n        const { searchText } = this.state;\r\n        console.log(searchText.length, searchText)\r\n        this.setState({\r\n            country: [],\r\n            searchError: searchText.length < 2 || !COUNTRY_REGEX.test(searchText) ? VALID_COUNTRY_NAME : null\r\n        });\r\n    }\r\n\r\n    onSearch() {\r\n        const { searchText } = this.state;\r\n        let url;\r\n        if (searchText && COUNTRY_REGEX.test(searchText)) {\r\n            url = `https://restcountries.eu/rest/v2/name/${searchText}?fullText=true`;\r\n        } else {\r\n            this.setState({\r\n                searchError: VALID_COUNTRY_NAME\r\n            });\r\n            return;\r\n        }\r\n\r\n        axios.get(url).then(response => response.data)\r\n            .then((data) => {\r\n                this.setState({ country: data });\r\n                this.setState({ searchText: '' }); // reseting the searchbox\r\n            },\r\n                error => {\r\n                    this.setState({\r\n                        searchError: COUNTRY_NOT_AVAILABLE\r\n                    });\r\n                });\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"search-wrapper\">\r\n            <h2>Search Country</h2>\r\n            <input\r\n                id=\"countryName\"\r\n                placeholder=\"Enter Country Name\"\r\n                type=\"text\"\r\n                className={`${this.state.searchError ? 'errorClass' : ''}`}\r\n                onChange={event => this.onChangeHandle(event)}\r\n                value={this.state.searchText}\r\n            />\r\n            <button className=\"btn-cls\" onClick={event => this.onSearch()}>Search</button>\r\n            <div className='errorMessage'>{this.state.searchError}</div>\r\n\r\n            {this.state.searchError}\r\n\r\n            {!this.state.searchError &&\r\n                <div className=\"content-wrapper\">\r\n                    {\r\n                        this.state.country.map((country, i) =>\r\n                            <div className=\"country-info\" key={i}>\r\n                                <h3>Country Details</h3>\r\n                                <span><label>Country Name:</label>{country.name}</span>\r\n                                <span><label>Capital:</label>{country.capital}</span>\r\n                                <span><label>Population:</label>{country.population}</span>\r\n                                <span><label>Currencies:</label>{country.currencies[i].code}</span>\r\n                            </div>)\r\n                    }\r\n                </div>\r\n            }\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default SearchCountry\r\n"]},"metadata":{},"sourceType":"module"}